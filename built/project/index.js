//     bb-collection-view
//     (c) simonfan
//     bb-collection-view is licensed under the MIT terms.

define(["require","exports","module","lodash","lowercase-backbone","./__bb-collection-view/iterators","./__bb-collection-view/event-handlers","./__bb-collection-view/item/build","./__bb-collection-view/item/storage"],function(e,t,n){var r=e("lodash"),i=e("lowercase-backbone"),s=["resortEvent","itemTemplate","itemView"],o=n.exports=i.view.extend({initialize:function(e){i.view.prototype.initialize.call(this,e),this.initializeCollectionView.call(this,e)},resortEvent:"resort",initializeCollectionView:function(t){t=t||{},r.assign(this,r.pick(t,s)),this.byIndex=[];var n=this.collection;if(!this.collection)throw new Error("No collection given for collection view");r.bindAll(this,"handleAdd","handleRemove","handleReset","handleResort"),this.listenTo(n,"add",this.handleAdd).listenTo(n,"remove",this.handleRemove).listenTo(n,"reset",this.handleReset).listenTo(n,this.resortEvent,this.handleResort),this.handleReset(n)}});o.proto(e("./__bb-collection-view/iterators")),o.proto(e("./__bb-collection-view/event-handlers")),o.proto(e("./__bb-collection-view/item/build")),o.proto(e("./__bb-collection-view/item/storage"))});