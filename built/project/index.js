//     bb-collection-view
//     (c) simonfan
//     bb-collection-view is licensed under the MIT terms.

define(["require","exports","module","lodash","lowercase-backbone","./__bb-collection-view/iterators","./__bb-collection-view/event-handlers","./__bb-collection-view/item/build","./__bb-collection-view/item/storage"],function(e,t,n){var r=e("lodash"),i=e("lowercase-backbone"),s=n.exports=i.view.extend({initialize:function(e){i.view.prototype.initialize.call(this,e),this.initializeCollectionView.call(this,e)},resortEvent:"resort",initializeCollectionView:function(t){t=t||{},this.resortEvent=t.resortEvent||this.resortEvent,this.byIndex=[];var n=this.collection=t.collection||i.collection();r.bindAll(this,"handleAdd","handleRemove","handleReset","handleResort"),this.listenTo(n,"add",this.handleAdd).listenTo(n,"remove",this.handleRemove).listenTo(n,"reset",this.handleReset).listenTo(n,this.resortEvent,this.handleResort),this.handleReset(n)}});s.proto(e("./__bb-collection-view/iterators")),s.proto(e("./__bb-collection-view/event-handlers")),s.proto(e("./__bb-collection-view/item/build")),s.proto(e("./__bb-collection-view/item/storage"))});